{"version":3,"file":"monitor.js","sources":["../src/config.js","../src/utils/index.js","../src/utils/cache.js","../src/utils/report.js","../src/behavior/onClick.js","../src/behavior/pv.js","../src/behavior/pageChange.js","../src/behavior/pageAccessDuration.js","../src/behavior/pageAccessHeight.js","../src/behavior/index.js","../src/utils/observer.js","../src/performance/FPandFCP.js","../src/performance/LCP.js","../src/performance/CLS.js","../src/performance/Load.js","../src/performance/InterfaceXHR.js","../src/performance/InterfaceFetch.js","../src/performance/ResourceLoadandCache.js","../src/performance/BFCache.js","../src/performance/FPS.js","../src/performance/index.js","../src/error/ConsoleError.js","../src/error/ResourceError.js","../src/error/JsError.js","../src/error/PromiseError.js","../src/error/index.js","../src/index.js"],"sourcesContent":["const config = {\n  url: '',\n  appID: '',\n  userID: '',\n  vue: {\n    Vue: null,\n    router: null\n  }\n}\n\nfunction setConfig(options) {\n  for (const key in config) {\n    if (options[key]) {\n      config[key] = options[key]\n    }\n  }\n}\n\nexport { config, setConfig }\n","// 生成唯一ID\nfunction generateUniqueID() {\n  return `v2-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`\n}\n\n// uuid\nlet uuid = ''\nfunction getUUID() {\n  if (uuid) return uuid\n\n  // 如果是手机 APP，可以调用原生方法或者设备唯一标识当成 uuid\n  uuid = window.localStorage.getItem('uuid')\n  if (uuid) return uuid\n\n  // 不存在则与ID相同\n  uuid = generateUniqueID()\n  window.localStorage.setItem('uuid', uuid)\n  return uuid\n}\n\n// 监听页面 beforeunload\nfunction onBeforeunload(callback) {\n  window.addEventListener('beforeunload', callback, true)\n}\n\n// 监听页面关闭/后台\nfunction onHidden(callback, once) {\n  const onHiddenOrPageHide = event => {\n    if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n      callback(event)\n\n      if (once) {\n        window.removeEventListener('visibilitychange', onHiddenOrPageHide, true)\n        window.removeEventListener('pagehide', onHiddenOrPageHide, true)\n      }\n    }\n  }\n\n  window.addEventListener('visibilitychange', onHiddenOrPageHide, true)\n  window.addEventListener('pagehide', onHiddenOrPageHide, true)\n}\n\n// 获取页面href\nfunction getPageURL() {\n  return window.location.href\n}\n\n// 深拷贝\n// function deepClone(data, cache) {\n//   if (!cache) {\n//     cache = new Map()\n//   }\n\n//   if (data instanceof Object) {\n//     // 数组存在，取缓存数据\n//     if (cache.has(data)) {\n//       return cache.get(data)\n//     }\n\n//     let result = []\n\n//     if (data instanceof Function) {\n//       // 函数\n//       if (data.prototype) {\n//         // 普通函数:有原型\n//         result = function () {\n//           data.apply(this, arguments)\n//         }\n//       } else {\n//         // 箭头函数：无原型\n//         result = (...args) => {\n//           data.call(undefined, ...args)\n//         }\n//       }\n//     } else if (data instanceof Array) {\n//       // 数组\n//       result = []\n//     } else if (data instanceof Date) {\n//       // 日期\n//       result = new Date(data - 0)\n//     } else if (data instanceof RegExp) {\n//       // 正则\n//       result = new RegExp(data.source, data.flags)\n//     } else {\n//       result = {}\n//     }\n//     // 设置缓存\n//     cache.set(data, result)\n\n//     for (let key in data) {\n//       if (data.hasOwnProperty(key)) {\n//         result[key] = deepClone(data[key], cache)\n//       }\n//     }\n//     return result\n//   } else {\n//     // 非对象\n//     return data\n//   }\n// }\nfunction deepClone(target) {\n  return Object.assign({}, target)\n}\n\n// 监听进入页面\nfunction executeAfterLoad(callback) {\n  // 文档的加载状态\n  if (document.readyState === 'complete') {\n    callback()\n  } else {\n    // 页面加载完毕加载\n    const onLoad = () => {\n      callback()\n      window.removeEventListener('load', onload, true)\n    }\n\n    window.addEventListener('load', onLoad, true)\n  }\n}\n\nfunction onBFCacheRestore(callback) {\n  window.addEventListener(\n    'pageshow',\n    event => {\n      if (event.persisted) {\n        callback(event)\n      }\n    },\n    true\n  )\n}\n\nexport { getUUID, generateUniqueID, getPageURL, onBeforeunload, onHidden, deepClone, executeAfterLoad, onBFCacheRestore }\n","import { deepClone } from './index.js'\n\n// 缓存\nconst cache = []\n\nfunction addCache() {\n  cache.push(cache)\n}\n\nfunction getCache() {\n  return deepClone(cache)\n}\n\nfunction clearCache() {\n  cache.length = 0\n}\n\nexport { addCache, getCache, clearCache }\n","/* 数据上报\n- 上报方法\n    1. sendBeacon (数据可靠，传输异步并且不会影响下一页面的加载,而 XMLHttpRequest 和image 会)\n    2. XMLHttpRequest\n    3. image\n- 上报时机\n    1. 采用 requestIdleCallback/setTimeout 延时上报。\n    2. 在 beforeunload 回调函数里上报。\n    3. 缓存上报数据，达到一定数量后再上报。\n\n将三种方式结合一起上报：\n\n1. 先缓存上报数据，缓存到一定数量后，利用 requestIdleCallback/setTimeout 延时上报。\n2. 在页面离开时统一将未上报的数据进行上报。\n*/\nimport { addCache, getCache, clearCache } from './cache.js'\nimport { generateUniqueID } from './index.js'\nimport { config } from '../config.js'\n\n// 判断浏览器是否存在 sendBeacon 属性\nfunction isSupportSendBeacon() {\n  return !!window.navigator?.sendBeacon\n}\n\n// sendBeacon：不支持 sendBeacon 的浏览器下我们可以使用 XMLHttpRequest 来进行上报\nconst sendBeacon = isSupportSendBeacon() ? window.navigator.sendBeacon.bind(window.navigator) : reportWithXHR\n// XMLHttpRequest\nfunction reportWithXHR(data) {\n  const xhr = new XMLHttpRequest()\n\n  const originalProto = XMLHttpRequest.prototype\n\n  originalProto.open.call(xhr, 'post', config.url) // 建立\n  originalProto.send.call(xhr, JSON.stringify(data)) // 发送\n}\n\n// 上报\nconst sessionID = generateUniqueID()\nfunction report(data, isImmediate = false) {\n  if (!config.url) {\n    console.error('请设置上传 URL 地址')\n  }\n\n  const reportData = JSON.stringify({\n    id: sessionID, // 唯一ID\n    appID: config.appID,\n    userID: config.userID,\n    data\n  })\n\n  // 立刻上报\n  if (isImmediate) {\n    sendBeacon(config.url, reportData)\n    return\n  }\n\n  // 延时上报\n  if (window.requestIdleCallback) {\n    // 每次屏幕刷新时调用：可以适配不同浏览器\n    window.requestIdleCallback(\n      () => {\n        sendBeacon(config.url, reportData)\n      },\n      { timeout: 3000 } // 超出时间：超出时间或为执行，下次屏幕刷新强制执行\n    )\n  } else {\n    // 定时器\n    setTimeout(() => {\n      sendBeacon(config.url, reportData)\n    })\n  }\n}\n\nlet timer = null\n// 懒上报（默认为3s后）\nfunction lazyReportCache(data, timeout = 3000) {\n  report(data)\n  // data 添加到缓存中\n  addCache(data)\n\n  // 防抖\n  clearTimeout(timer)\n  timer = setTimeout(() => {\n    // 优先获取内存中 data\n    const data = getCache()\n    if (data.length) {\n      report(data)\n      // 清除缓存\n      clearCache()\n    }\n  }, timeout)\n}\n\nexport { report, lazyReportCache }\n","import { lazyReportCache } from '../utils/report.js'\n\nconst events = ['mousedown', 'touchstart']\n/*\n * 防抖\n */\nfunction onClick() {\n  events.forEach(eventType => {\n    let timer\n    window.addEventListener(eventType, event => {\n      clearTimeout(timer)\n      timer = setTimeout(() => {\n        const target = event.target\n        // console.log('target', target)\n\n        // 上报统计\n        lazyReportCache({\n          type: 'behavior',\n          subType: 'click',\n          target: target.tagName,\n          eventType\n        })\n      }, 500)\n    })\n  })\n}\n\nexport { onClick }\n","import { lazyReportCache } from '../utils/report.js'\nimport { getPageURL, getUUID } from '../utils/index.js'\n\nfunction pv() {\n  lazyReportCache({\n    type: 'behavior',\n    subType: 'pv',\n    startTime: performance.now(),\n    pageURL: getPageURL(),\n    referrer: document.referrer,\n    uuid: getUUID()\n  })\n}\n\nexport { pv }\n","import { lazyReportCache } from '../utils/report.js'\nimport { getPageURL, getUUID } from '../utils/index.js'\n\nfunction pageChange() {\n  // popstate\n  let from = ''\n  window.addEventListener(\n    'popstate',\n    () => {\n      console.log('hash 更新触发 popstate')\n      const to = getPageURL()\n\n      lazyReportCache({\n        from,\n        to,\n        type: 'behavior',\n        subType: 'popstate',\n        startTime: performance.now(),\n        uuid: getUUID()\n      })\n\n      from = to\n    },\n    true\n  )\n\n  // hashchange\n  let oldURL = ''\n  window.addEventListener(\n    'hashchange',\n    event => {\n      console.log('hash 改变触发 hashchange')\n      const newURL = event.newURL\n\n      lazyReportCache({\n        from: oldURL,\n        to: newURL,\n        type: 'behavior',\n        subType: 'hashchange',\n        startTime: performance.now()\n        // uuid: getUUID()\n      })\n\n      oldURL = newURL\n    },\n    true\n  )\n}\n\nexport { pageChange }\n","import { report } from '../utils/report.js'\nimport { onBeforeunload, getPageURL, getUUID } from '../utils/index.js'\n\nfunction pageAccessDuration() {\n  onBeforeunload(() => {\n    report(\n      {\n        type: 'behavior',\n        subType: 'page-access-duration',\n        startTime: performance.now(),\n        pageURL: getPageURL(),\n        uuid: getUUID()\n      },\n      true\n    )\n  })\n}\n\nexport { pageAccessDuration }\n","/**\n记录页面访问深度是很有用的，例如不同的活动页面 a 和 b。a 平均访问深度只有 50%，b 平均访问深度有 80%，说明 b 更受用户喜欢.根据这一点可以有针对性的修改 a 活动页面。\n除此之外还可以利用访问深度以及停留时长来鉴别电商刷单。例如:\n- 有人进来页面后一下就把页面拉到底部然后等待一段时间后购买，\n- 有人是慢慢的往下滚动页面，最后再购买。虽然他们在页面的停留时间一样，但明显第一个人更像是刷单的。\n\n步骤：\n1. 用户进入页面时，记录 当前时间、scrollTop 值、页面可视高度、页面总高度。\n2. 用户滚动页面的那一刻，会触发 scroll 事件\n  2.1 在回调函数中用第一点得到的数据算出页面访问深度和停留时长。\n  2.2 当用户滚动页面到某一点时，停下继续观看页面。这时记录当前时间、scrollTop 值、页面可视高度、页面总高度。\n */\nimport { getUUID, onBeforeunload, executeAfterLoad, getPageURL } from '../utils/index.js'\nimport { report, lazyReportCache } from '../utils/report.js'\n\nlet timer // 定时器\nlet hasReport = false // 是否上报，默认不上报\nlet startTime = 0 // 记录代码的执行开始时间\nlet scrollTop = 0 // 页面 scrollTop 值\nlet viewportHeight = 0 // 页面可视高度\nlet pageHeight = 0 // 页面总高度\n\nfunction toPercent(val) {\n  if (val >= 1) return '100%'\n  return (val * 100).toFixed(2) + '%'\n}\n\n// 滚动监听\nfunction onScroll() {\n  // 防抖\n  clearTimeout(timer)\n  const now = performance.now() // 记录代码的执行开始时间\n\n  // 2.2 在回调函数中用第一点得到的数据算出页面访问深度和停留时长\n  if (!hasReport) {\n    hasReport = true\n    lazyReportCache({\n      startTime: now, // 记录代码的执行开始时间\n      duration: now - startTime, // 停留时间\n      type: 'behavior', // 统计类型\n      subType: 'page- access-height', // 精确类型\n      pageURL: getPageURL(), // 当前页面\n      value: toPercent((scrollTop + viewportHeight) / pageHeight), // 百分比\n      uuid: getUUID()\n    })\n  }\n\n  // 2.2 当用户滚动页面到某一点时，停下继续观看页面。这时记录当前时间、scrollTop 值、页面可视高度、页面总高度。\n  timer = setTimeout(() => {\n    hasReport = false // 重置上报\n    startTime = now\n    pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight\n    scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n    viewportHeight = window.innerHeight\n  }, 500)\n}\n\nfunction pageAccessHeight() {\n  // 1. 用户进入页面时，记录 当前时间、scrollTop 值、页面可视高度、页面总高度。\n  executeAfterLoad(() => {\n    startTime = performance.now() // 记录代码的执行开始时间\n    scrollTop = document.documentElement.scrollTop || document.body.scrollTop // 页面 scrollTop 值\n    viewportHeight = window.innerHeight // 页面可视高度\n    pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight // 页面总高度\n  })\n\n  // 2 用户滚动页面的那一刻，会触发 scroll 事件\n  window.addEventListener('scroll', onScroll)\n\n  // 3. 页面关闭时上报\n  onBeforeunload(() => {\n    const now = performance.now()\n    report(\n      {\n        startTime: now,\n        duration: now - startTime,\n        type: 'behavior',\n        subType: 'page-access-height',\n        pageURL: getPageURL(),\n        value: toPercent((scrollTop + viewportHeight) / pageHeight),\n        uuid: getUUID()\n      },\n      true\n    )\n  })\n}\n\nexport { pageAccessHeight }\n","import { onClick } from './onClick.js'\nimport { pv } from './pv.js'\nimport { pageChange } from './pageChange.js'\nimport { pageAccessDuration } from './pageAccessDuration.js'\nimport { pageAccessHeight } from './pageAccessHeight.js'\n\nconst behavior = {\n  onClick: () => onClick(), // 用户点击\n  pv: () => pv(), // pv\n  pageChange: () => pageChange(), // 页面跳转\n  pageAccessDuration: () => pageAccessDuration(), // 页面停留时长\n  pageAccessHeight: () => pageAccessHeight() // 页面访问深度\n}\n\nexport { behavior }\n","// 检测 PerformanceObserver 方法\nfunction isSupportPerformanceObserver() {\n  return !!window.PerformanceObserver\n}\n\nexport { isSupportPerformanceObserver }\n","/*\n * FP(first-paint)，从页面加载开始到第一个像素绘制到屏幕上的时间。\n * 其实把 FP 理解成白屏时间也是没问题的。\n */\nimport { getPageURL } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction FPandFCP() {\n  // 检测 PerformanceObserver 方法\n  if (!isSupportPerformanceObserver()) return\n\n  // 测量代码\n  const entryHandler = list => {\n    for (const entry of list.getEntries()) {\n      if (entry.name === 'first-contentful-paint') {\n        observer.disconnect() // 监听连接\n      }\n\n      // 获取内容\n      const json = entry.toJSON()\n      delete json.duration // 删除无用 duration 属性\n\n      // 数据\n      const reportData = {\n        ...json,\n        subType: entry.name,\n        type: 'performance',\n        pageURL: getPageURL()\n      }\n\n      // 上报\n      lazyReportCache(reportData)\n    }\n  }\n\n  // 声明实例\n  const observer = new PerformanceObserver(entryHandler)\n  // buffered 属性表示是否观察缓存数据，也就是说观察代码添加时机比事情触发时机晚也没关系。\n  observer.observe({ type: 'paint', buffered: true })\n\n  // 浏览器往返缓存 BFC\n  // onBFCacheRestore()\n}\nexport { FPandFCP }\n","/*\nLCP(largest-contentful-paint)，从页面加载开始到最大文本块或图像元素在屏幕上完成渲染的时间。\nLCP 指标会根据页面首次开始加载的时间点来报告可视区域内可见的最大图像或文本块完成渲染的相对时间。\n一个良好的 LCP 分数应该控制在 2.5 秒以内。\n */\nimport { getPageURL } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction LCP() {\n  // 检测 PerformanceObserver 方法\n  if (!isSupportPerformanceObserver()) return\n\n  const entryHandler = list => {\n    if (observer) {\n      observer.disconnect()\n    }\n\n    for (const entry of list.getEntries()) {\n      // 获取内容\n      const json = entry.toJSON()\n      delete json.duration // 删除无用 duration 属性\n\n      const reportData = {\n        ...json,\n        target: entry.element?.tagName,\n        name: entry.entryType,\n        subType: entry.entryType,\n        type: 'performance',\n        pageURL: getPageURL()\n      }\n\n      lazyReportCache(reportData)\n    }\n  }\n\n  const observer = new PerformanceObserver(entryHandler)\n  observer.observe({ type: 'largest-contentful-paint', buffered: true })\n}\nexport { LCP }\n","/*\nCLS(layout-shift)，从页面加载开始和其生命周期状态变为隐藏期间发生的所有意外布局偏移的累积分数。\n\n布局偏移分数的计算方式如下：\n布局偏移分数 = 影响分数 * 距离分数\n\n取所有会话窗口中的最大值:这种方式是目前最优的计算方式，每次只取所有会话窗口的最大值，用来反映页面布局偏移的最差情况。\n */\n\nimport { getPageURL, deepClone } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction formatCLSEntry(entry) {\n  const result = entry.toJSON()\n  delete result.duration\n  delete result.sources\n\n  return result\n}\n\nfunction CLS() {\n  // 检测 PerformanceObserver 方法\n  if (!isSupportPerformanceObserver()) return\n\n  let sessionValue = 0\n  let sessionEntries = []\n\n  const cls = {\n    subType: 'layout-shift',\n    name: 'layout-shift',\n    type: 'performance',\n    pageURL: getPageURL(),\n    value: 0\n  }\n\n  const entryHandler = list => {\n    for (const entry of list.getEntries()) {\n      // 仅统计没有最近用户输入的布局移动。\n      if (!entry.hadRecentInput) {\n        const firstSessionEntry = sessionEntries[0]\n        const lastSessionEntry = sessionEntries[sessionEntries.length - 1]\n\n        //如果条目发生在前一条目之后不到1秒，并且\n        //会话中第一次输入后不到5秒，包括\n        //当前会话中的条目。否则，请启动新会话。\n        if (sessionValue && entry.startTime - lastSessionEntry.startTime < 1000 && entry.startTime - firstSessionEntry.startTime < 5000) {\n          sessionValue += entry.value\n          sessionEntries.push(formatCLSEntry(entry))\n        } else {\n          sessionValue = entry.value\n          sessionEntries = [formatCLSEntry(entry)]\n        }\n\n        //如果当前会话值大于当前CLS值，\n        //更新CLS及其相关条目。\n        if (sessionValue > cls.value) {\n          cls.value = sessionValue // value 字段就是布局偏移分数。\n          cls.entries = sessionEntries\n          cls.startTime = performance.now()\n          lazyReportCache(deepClone(cls))\n        }\n      }\n    }\n  }\n\n  const observer = new PerformanceObserver(entryHandler)\n  observer.observe({ type: 'layout-shift', buffered: true })\n}\n\nexport { CLS }\n","/*\n- 当纯 HTML 被完全加载以及解析时，DOMContentLoaded 事件会被触发，不用等待 css、img、iframe 加载完。\n- 当整个页面及所有依赖资源如样式表和图片都已完成加载时，将触发 load 事件。\n*/\n\nimport { lazyReportCache } from '../utils/report.js'\n\nconst events = ['load', 'DOMContentLoaded']\n\nfunction Load() {\n  events.forEach(type => onEvent(type))\n}\n\n// 监听 DOMContentLoaded / load 加载时间\nfunction onEvent(type) {\n  function callback() {\n    lazyReportCache({\n      type: 'performance',\n      subType: type.toLocaleLowerCase(),\n      startTime: performance.now()\n    })\n\n    window.removeEventListener(type, callback, true)\n  }\n\n  window.addEventListener(type, callback, true)\n}\n\nexport { Load }\n","/*\n如何判断 XML 请求是否成功？可以根据他的状态码是否在 200~299 之间。如果在，那就是成功，否则失败。\n*/\n\nimport { lazyReportCache } from '../utils/report.js'\n\nconst originalProto = XMLHttpRequest.prototype\nconst originalOpen = originalProto.open\nconst originalSend = originalProto.send\n\nfunction InterfaceXHR() {\n  originalProto.open = function newOpen(...args) {\n    this.url = args[1]\n    this.method = args[0]\n    originalOpen.apply(this, args)\n  }\n\n  originalProto.send = function newSend(...args) {\n    this.startTime = Date.now()\n\n    const onLoadend = () => {\n      this.endTime = Date.now()\n      this.duration = this.endTime - this.startTime\n\n      const { status, duration, startTime, endTime, url, method } = this\n      const reportData = {\n        status,\n        duration,\n        startTime,\n        endTime,\n        url,\n        method: (method || 'GET').toUpperCase(),\n        success: status >= 200 && status < 300,\n        subType: 'xhr',\n        type: 'performance'\n      }\n\n      lazyReportCache(reportData)\n\n      this.removeEventListener('loadend', onLoadend, true)\n    }\n\n    this.addEventListener('loadend', onLoadend, true)\n    originalSend.apply(this, args)\n  }\n}\n\nexport { InterfaceXHR }\n","/*\n对于 fetch，可以根据返回数据中的的 ok 字段判断请求是否成功，如果为 true 则请求成功，否则失败。\n*/\n\nimport { lazyReportCache } from '../utils/report.js'\n\nconst originalFetch = window.fetch\n\nfunction InterfaceFetch() {\n  window.fetch = function newFetch(url, config) {\n    const startTime = Date.now()\n    const reportData = {\n      startTime,\n      url,\n      method: (config?.method || 'GET').toUpperCase(),\n      subType: 'fetch',\n      type: 'performance'\n    }\n\n    return originalFetch(url, config)\n      .then(res => {\n        reportData.endTime = Date.now()\n        reportData.duration = reportData.endTime - reportData.startTime\n\n        const data = res.clone()\n        reportData.status = data.status\n        reportData.success = data.ok\n\n        lazyReportCache(reportData)\n\n        return res\n      })\n      .catch(err => {\n        reportData.endTime = Date.now()\n        reportData.duration = reportData.endTime - reportData.startTime\n        reportData.status = 0\n        reportData.success = false\n\n        lazyReportCache(reportData)\n\n        throw err\n      })\n  }\n}\n\nexport { InterfaceFetch }\n","/*\n对于 fetch，可以根据返回数据中的的 ok 字段判断请求是否成功，如果为 true 则请求成功，否则失败。\n*/\n\nimport { executeAfterLoad } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction ResourceLoadandCache() {\n  executeAfterLoad(() => {\n    observeEvent('resource')\n    observeEvent('navigation')\n  })\n}\n\nlet hasAlreadyCollected = false\nfunction observeEvent(entryType) {\n  function entryHandler(list) {\n    const data = list.getEntries ? list.getEntries() : list\n    for (const entry of data) {\n      if (entryType === 'navigation') {\n        if (hasAlreadyCollected) return\n\n        if (observer) {\n          observer.disconnect()\n        }\n\n        hasAlreadyCollected = true\n      }\n      // nextHopProtocol 属性为空，说明资源解析错误或者跨域\n      // beacon 用于上报数据，所以不统计。xhr fetch 单独统计\n      if ((!entry.nextHopProtocol && entryType !== 'navigation') || filter(entry.initiatorType)) {\n        return\n      }\n\n      lazyReportCache({\n        name: entry.name, // 资源名称\n        subType: entryType,\n        type: 'performance',\n        sourceType: entry.initiatorType, // 资源类型\n        duration: entry.duration, // 资源加载耗时\n        dns: entry.domainLookupEnd - entry.domainLookupStart, // DNS 耗时\n        tcp: entry.connectEnd - entry.connectStart, // 建立 tcp 连接耗时\n        redirect: entry.redirectEnd - entry.redirectStart, // 重定向耗时\n        ttfb: entry.responseStart, // 首字节时间\n        protocol: entry.nextHopProtocol, // 请求协议\n        responseBodySize: entry.encodedBodySize, // 响应内容大小\n        responseHeaderSize: entry.transferSize - entry.encodedBodySize, // 响应头部大小\n        resourceSize: entry.decodedBodySize, // 资源解压后的大小\n        isCache: isCache(entry), // 是否命中缓存\n        startTime: performance.now()\n      })\n    }\n  }\n\n  let observer\n  if (isSupportPerformanceObserver()) {\n    observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: entryType, buffered: true })\n  } else {\n    const data = window.performance.getEntriesByType(entryType)\n    entryHandler(data)\n  }\n}\n\n// 不统计以下类型的资源\nconst preventType = ['fetch', 'xmlhttprequest', 'beacon']\nconst isSafari = /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)\nif (isSafari) {\n  // safari 会把接口请求当成 other\n  preventType.push('other')\n}\n\nfunction filter(type) {\n  return preventType.includes(type)\n}\n\nfunction isCache(entry) {\n  // 直接从缓存读取或 304\n  return entry.transferSize === 0 || (entry.transferSize !== 0 && entry.encodedBodySize === 0)\n}\n\nexport { ResourceLoadandCache }\n","/*\nbfcache 是一种内存缓存，它会将整个页面保存在内存中。当用户返回时可以马上看到整个页面，而不用再次刷新。\n*/\nimport { onBFCacheRestore, getPageURL } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction BFCache() {\n  if (!isSupportPerformanceObserver()) return\n\n  const entryHandler = list => {\n    for (const entry of list.getEntries()) {\n      if (entry.name === 'first-contentful-paint') {\n        observer.disconnect()\n      }\n\n      const json = entry.toJSON()\n      delete json.duration\n\n      const reportData = {\n        ...json,\n        subType: entry.name,\n        type: 'performance',\n        pageURL: getPageURL()\n      }\n\n      lazyReportCache(reportData)\n    }\n  }\n\n  const observer = new PerformanceObserver(entryHandler)\n  observer.observe({ type: 'paint', buffered: true })\n\n  onBFCacheRestore(event => {\n    requestAnimationFrame(() => {\n      ;['first-paint', 'first-contentful-paint'].forEach(type => {\n        lazyReportCache({\n          startTime: performance.now() - event.timeStamp,\n          name: type,\n          subType: type,\n          type: 'performance',\n          pageURL: getPageURL(),\n          bfc: true\n        })\n      })\n    })\n  })\n}\n\nexport { BFCache }\n","/*\n */\nimport { deepClone } from '../utils/index.js'\nimport { report } from '../utils/report.js'\n\nconst next = window.requestAnimationFrame\n  ? requestAnimationFrame\n  : callback => {\n      setTimeout(callback, 1000 / 60)\n    }\n\nconst frames = []\n\nfunction FPS() {\n  let frame = 0\n  let lastSecond = Date.now()\n\n  function calculateFPS() {\n    frame++\n    const now = Date.now()\n    if (lastSecond + 1000 <= now) {\n      // 由于 now - lastSecond 的单位是毫秒，所以 frame 要 * 1000\n      const fps = Math.round((frame * 1000) / (now - lastSecond))\n      frames.push(fps)\n\n      frame = 0\n      lastSecond = now\n    }\n\n    // 避免上报太快，缓存一定数量再上报\n    if (frames.length >= 10) {\n      // 正常为60，10便于测试\n      report(\n        deepClone({\n          frames,\n          type: 'performace',\n          subType: 'fps'\n        })\n      )\n\n      frames.length = 0\n    }\n    next(calculateFPS)\n  }\n\n  calculateFPS()\n}\n\nfunction isBlocking(fpsList, below = 20, last = 3) {\n  let count = 0\n  for (let i = 0; i < fpsList.length; i++) {\n    if (fpsList[i] && fpsList[i] < below) {\n      count++\n    } else {\n      count = 0\n    }\n\n    if (count >= last) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport { FPS }\n","import { FPandFCP } from './FPandFCP.js'\nimport { LCP } from './LCP.js'\nimport { CLS } from './CLS.js'\nimport { Load } from './Load.js'\nimport { InterfaceXHR } from './InterfaceXHR.js'\nimport { InterfaceFetch } from './InterfaceFetch.js'\nimport { ResourceLoadandCache } from './ResourceLoadandCache.js'\nimport { BFCache } from './BFCache.js'\nimport { FPS } from './FPS.js'\n\nconst performance = {\n  FPandFCP: () => FPandFCP(), // FPandFCP\n  LCP: () => LCP(), // LCP\n  CLS: () => CLS(), // CLS\n  Load: () => Load(), // Load 事件\n  FirstScreenPaint: () => FirstScreenPaint(), // 首屏渲染时间\n  InterfaceXHR: () => InterfaceXHR(), // 接口请求耗时XHR\n  InterfaceFetch: () => InterfaceFetch(), // 接口请求耗时Fetch\n  ResourceLoadandCache: () => ResourceLoadandCache(), // 资源加载时间、缓存命中率\n  BFCache: () => BFCache(), // 浏览器往返缓存\n  FPS: () => FPS() // 计算卡顿\n}\n\nexport { performance }\n","/*\n控制台报错\n*/\nimport { getPageURL } from '../utils/index.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction ConsoleError() {\n  const oldConsoleError = window.console.error\n\n  window.console.error = (...args) => {\n    oldConsoleError.apply(this, args)\n    lazyReportCache({\n      type: 'error',\n      subType: 'console-error',\n      startTime: performance.now(),\n      errData: args,\n      pageURL: getPageURL()\n    })\n  }\n}\n\nexport { ConsoleError }\n","/*\n使用 addEventListener() 监听 error 事件，可以捕获到资源加载失败错误。\n*/\nimport { lazyReportCache } from '../utils/report.js'\nimport { getPageURL } from '../utils/index.js'\n\nfunction ResourceError() {\n  // 捕获资源加载失败错误 js css img...\n  window.addEventListener(\n    'error',\n    e => {\n      const target = e.target\n      if (!target) return\n\n      if (target.src || target.href) {\n        const url = target.src || target.href\n        lazyReportCache({\n          url,\n          type: 'error',\n          subType: 'resource',\n          startTime: e.timeStamp,\n          html: target.outerHTML,\n          resourceType: target.tagName,\n          paths: e.path.map(item => item.tagName).filter(Boolean),\n          pageURL: getPageURL()\n        })\n      }\n    },\n    true\n  )\n}\n\nexport { ResourceError }\n","/*\n使用 window.onerror 可以监听 js 错误。\n*/\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction JsError() {\n  // 监听 js 错误\n  window.onerror = (msg, url, line, column, error) => {\n    lazyReportCache({\n      msg,\n      line,\n      column,\n      error: error.stack,\n      subType: 'js',\n      pageURL: url,\n      type: 'error',\n      startTime: performance.now()\n    })\n  }\n}\n\nexport { JsError }\n","/*\n使用 addEventListener() 监听 unhandledrejection 事件，可以捕获到未处理的 promise 错误。\n*/\nimport { lazyReportCache } from '../utils/report.js'\nimport { getPageURL } from '../utils/index.js'\n\nfunction PromiseError() {\n  // 监听 promise 错误 缺点是获取不到列数据\n  window.addEventListener('unhandledrejection', e => {\n    lazyReportCache({\n      reason: e.reason?.stack,\n      subType: 'promise',\n      type: 'error',\n      startTime: e.timeStamp,\n      pageURL: getPageURL()\n    })\n  })\n}\n\nexport { PromiseError }\n","import { ConsoleError } from './ConsoleError.js'\nimport { ResourceError } from './ResourceError.js'\nimport { JsError } from './JsError.js'\nimport { PromiseError } from './PromiseError.js'\n\nconst error = {\n  ConsoleError: () => ConsoleError(), // 控制台报错\n  ResourceError: () => ResourceError(), // 资源加载错误\n  JsError: () => JsError(), // JS 错误\n  PromiseError: () => PromiseError() // PromiseError 错误\n}\n\nexport { error }\n","import { setConfig } from './config.js'\n// 行为监控\nimport { behavior } from './behavior/index.js'\n// 性能监听\nimport { performance } from './performance/index.js'\n// 错误监听\nimport { error } from './error/index.js'\n\nconst monitor = {\n  init(option = {}) {\n    setConfig(option)\n  },\n  // 行为监听\n  behavior,\n  // 性能监听\n  performance,\n  // 错误监听\n  error\n}\n\n// 挂载全局\nwindow.monitor = monitor\nexport default monitor\n"],"names":["config","url","appID","userID","vue","Vue","router","setConfig","options","key","generateUniqueID","Date","now","Math","floor","random","uuid","getUUID","window","localStorage","getItem","setItem","onBeforeunload","callback","addEventListener","getPageURL","location","href","deepClone","target","Object","assign","executeAfterLoad","document","readyState","onLoad","removeEventListener","onload","onBFCacheRestore","event","persisted","cache","addCache","push","getCache","clearCache","length","isSupportSendBeacon","navigator","sendBeacon","bind","reportWithXHR","data","xhr","XMLHttpRequest","originalProto","prototype","open","call","send","JSON","stringify","sessionID","report","isImmediate","console","error","reportData","id","requestIdleCallback","timeout","setTimeout","timer","lazyReportCache","clearTimeout","events","onClick","forEach","eventType","type","subType","tagName","pv","startTime","performance","pageURL","referrer","pageChange","from","log","to","oldURL","newURL","pageAccessDuration","hasReport","scrollTop","viewportHeight","pageHeight","toPercent","val","toFixed","onScroll","duration","value","documentElement","scrollHeight","body","innerHeight","pageAccessHeight","behavior","isSupportPerformanceObserver","PerformanceObserver","FPandFCP","entryHandler","list","getEntries","entry","name","observer","disconnect","json","toJSON","observe","buffered","LCP","element","entryType","formatCLSEntry","result","sources","CLS","sessionValue","sessionEntries","cls","hadRecentInput","firstSessionEntry","lastSessionEntry","entries","Load","onEvent","toLocaleLowerCase","originalOpen","originalSend","InterfaceXHR","newOpen","args","method","apply","newSend","onLoadend","endTime","status","toUpperCase","success","originalFetch","fetch","InterfaceFetch","newFetch","then","res","clone","ok","catch","err","ResourceLoadandCache","observeEvent","hasAlreadyCollected","nextHopProtocol","filter","initiatorType","sourceType","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttfb","responseStart","protocol","responseBodySize","encodedBodySize","responseHeaderSize","transferSize","resourceSize","decodedBodySize","isCache","getEntriesByType","preventType","isSafari","test","userAgent","includes","BFCache","requestAnimationFrame","timeStamp","bfc","next","frames","FPS","frame","lastSecond","calculateFPS","fps","round","FirstScreenPaint","ConsoleError","oldConsoleError","errData","ResourceError","e","src","html","outerHTML","resourceType","paths","path","map","item","Boolean","JsError","onerror","msg","line","column","stack","PromiseError","reason","monitor","init","option"],"mappings":"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"}
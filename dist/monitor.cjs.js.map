{"version":3,"file":"monitor.cjs.js","sources":["../src/config.js","../src/utils/index.js","../src/utils/cache.js","../src/utils/report.js","../src/behavior/onClick.js","../src/behavior/pv.js","../src/behavior/pageChange.js","../src/behavior/pageAccessDuration.js","../src/behavior/pageAccessHeight.js","../src/behavior/index.js","../src/utils/observer.js","../src/performance/FPandFCP.js","../src/performance/LCP.js","../src/performance/CLS.js","../src/performance/Load.js","../src/performance/InterfaceXHR.js","../src/performance/InterfaceFetch.js","../src/performance/ResourceLoadandCache.js","../src/performance/BFCache.js","../src/performance/FPS.js","../src/performance/index.js","../src/error/ConsoleError.js","../src/error/ResourceError.js","../src/error/JsError.js","../src/error/PromiseError.js","../src/error/index.js","../src/index.js"],"sourcesContent":["const config = {\n  url: '',\n  appID: '',\n  userID: '',\n  vue: {\n    Vue: null,\n    router: null\n  }\n}\n\nfunction setConfig(options) {\n  for (const key in config) {\n    if (options[key]) {\n      config[key] = options[key]\n    }\n  }\n}\n\nexport { config, setConfig }\n","// 生成唯一ID\nfunction generateUniqueID() {\n  return `v2-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`\n}\n\n// uuid\nlet uuid = ''\nfunction getUUID() {\n  if (uuid) return uuid\n\n  // 如果是手机 APP，可以调用原生方法或者设备唯一标识当成 uuid\n  uuid = window.localStorage.getItem('uuid')\n  if (uuid) return uuid\n\n  // 不存在则与ID相同\n  uuid = generateUniqueID()\n  window.localStorage.setItem('uuid', uuid)\n  return uuid\n}\n\n// 监听页面 beforeunload\nfunction onBeforeunload(callback) {\n  window.addEventListener('beforeunload', callback, true)\n}\n\n// 监听页面关闭/后台\nfunction onHidden(callback, once) {\n  const onHiddenOrPageHide = event => {\n    if (event.type === 'pagehide' || document.visibilityState === 'hidden') {\n      callback(event)\n\n      if (once) {\n        window.removeEventListener('visibilitychange', onHiddenOrPageHide, true)\n        window.removeEventListener('pagehide', onHiddenOrPageHide, true)\n      }\n    }\n  }\n\n  window.addEventListener('visibilitychange', onHiddenOrPageHide, true)\n  window.addEventListener('pagehide', onHiddenOrPageHide, true)\n}\n\n// 获取页面href\nfunction getPageURL() {\n  return window.location.href\n}\n\n// 深拷贝\n// function deepClone(data, cache) {\n//   if (!cache) {\n//     cache = new Map()\n//   }\n\n//   if (data instanceof Object) {\n//     // 数组存在，取缓存数据\n//     if (cache.has(data)) {\n//       return cache.get(data)\n//     }\n\n//     let result = []\n\n//     if (data instanceof Function) {\n//       // 函数\n//       if (data.prototype) {\n//         // 普通函数:有原型\n//         result = function () {\n//           data.apply(this, arguments)\n//         }\n//       } else {\n//         // 箭头函数：无原型\n//         result = (...args) => {\n//           data.call(undefined, ...args)\n//         }\n//       }\n//     } else if (data instanceof Array) {\n//       // 数组\n//       result = []\n//     } else if (data instanceof Date) {\n//       // 日期\n//       result = new Date(data - 0)\n//     } else if (data instanceof RegExp) {\n//       // 正则\n//       result = new RegExp(data.source, data.flags)\n//     } else {\n//       result = {}\n//     }\n//     // 设置缓存\n//     cache.set(data, result)\n\n//     for (let key in data) {\n//       if (data.hasOwnProperty(key)) {\n//         result[key] = deepClone(data[key], cache)\n//       }\n//     }\n//     return result\n//   } else {\n//     // 非对象\n//     return data\n//   }\n// }\nfunction deepClone(target) {\n  return Object.assign({}, target)\n}\n\n// 监听进入页面\nfunction executeAfterLoad(callback) {\n  // 文档的加载状态\n  if (document.readyState === 'complete') {\n    callback()\n  } else {\n    // 页面加载完毕加载\n    const onLoad = () => {\n      callback()\n      window.removeEventListener('load', onload, true)\n    }\n\n    window.addEventListener('load', onLoad, true)\n  }\n}\n\nfunction onBFCacheRestore(callback) {\n  window.addEventListener(\n    'pageshow',\n    event => {\n      if (event.persisted) {\n        callback(event)\n      }\n    },\n    true\n  )\n}\n\nexport { getUUID, generateUniqueID, getPageURL, onBeforeunload, onHidden, deepClone, executeAfterLoad, onBFCacheRestore }\n","import { deepClone } from './index.js'\n\n// 缓存\nconst cache = []\n\nfunction addCache() {\n  cache.push(cache)\n}\n\nfunction getCache() {\n  return deepClone(cache)\n}\n\nfunction clearCache() {\n  cache.length = 0\n}\n\nexport { addCache, getCache, clearCache }\n","/* 数据上报\n- 上报方法\n    1. sendBeacon (数据可靠，传输异步并且不会影响下一页面的加载,而 XMLHttpRequest 和image 会)\n    2. XMLHttpRequest\n    3. image\n- 上报时机\n    1. 采用 requestIdleCallback/setTimeout 延时上报。\n    2. 在 beforeunload 回调函数里上报。\n    3. 缓存上报数据，达到一定数量后再上报。\n\n将三种方式结合一起上报：\n\n1. 先缓存上报数据，缓存到一定数量后，利用 requestIdleCallback/setTimeout 延时上报。\n2. 在页面离开时统一将未上报的数据进行上报。\n*/\nimport { addCache, getCache, clearCache } from './cache.js'\nimport { generateUniqueID } from './index.js'\nimport { config } from '../config.js'\n\n// 判断浏览器是否存在 sendBeacon 属性\nfunction isSupportSendBeacon() {\n  return !!window.navigator?.sendBeacon\n}\n\n// sendBeacon：不支持 sendBeacon 的浏览器下我们可以使用 XMLHttpRequest 来进行上报\nconst sendBeacon = isSupportSendBeacon() ? window.navigator.sendBeacon.bind(window.navigator) : reportWithXHR\n// XMLHttpRequest\nfunction reportWithXHR(data) {\n  const xhr = new XMLHttpRequest()\n\n  const originalProto = XMLHttpRequest.prototype\n\n  originalProto.open.call(xhr, 'post', config.url) // 建立\n  originalProto.send.call(xhr, JSON.stringify(data)) // 发送\n}\n\n// 上报\nconst sessionID = generateUniqueID()\nfunction report(data, isImmediate = false) {\n  if (!config.url) {\n    console.error('请设置上传 URL 地址')\n  }\n\n  const reportData = JSON.stringify({\n    id: sessionID, // 唯一ID\n    appID: config.appID,\n    userID: config.userID,\n    data\n  })\n\n  // 立刻上报\n  if (isImmediate) {\n    sendBeacon(config.url, reportData)\n    return\n  }\n\n  // 延时上报\n  if (window.requestIdleCallback) {\n    // 每次屏幕刷新时调用：可以适配不同浏览器\n    window.requestIdleCallback(\n      () => {\n        sendBeacon(config.url, reportData)\n      },\n      { timeout: 3000 } // 超出时间：超出时间或为执行，下次屏幕刷新强制执行\n    )\n  } else {\n    // 定时器\n    setTimeout(() => {\n      sendBeacon(config.url, reportData)\n    })\n  }\n}\n\nlet timer = null\n// 懒上报（默认为3s后）\nfunction lazyReportCache(data, timeout = 3000) {\n  report(data)\n  // data 添加到缓存中\n  addCache(data)\n\n  // 防抖\n  clearTimeout(timer)\n  timer = setTimeout(() => {\n    // 优先获取内存中 data\n    const data = getCache()\n    if (data.length) {\n      report(data)\n      // 清除缓存\n      clearCache()\n    }\n  }, timeout)\n}\n\nexport { report, lazyReportCache }\n","import { lazyReportCache } from '../utils/report.js'\n\nconst events = ['mousedown', 'touchstart']\n/*\n * 防抖\n */\nfunction onClick() {\n  events.forEach(eventType => {\n    let timer\n    window.addEventListener(eventType, event => {\n      clearTimeout(timer)\n      timer = setTimeout(() => {\n        const target = event.target\n        // console.log('target', target)\n\n        // 上报统计\n        lazyReportCache({\n          type: 'behavior',\n          subType: 'click',\n          target: target.tagName,\n          eventType\n        })\n      }, 500)\n    })\n  })\n}\n\nexport { onClick }\n","import { lazyReportCache } from '../utils/report.js'\nimport { getPageURL, getUUID } from '../utils/index.js'\n\nfunction pv() {\n  lazyReportCache({\n    type: 'behavior',\n    subType: 'pv',\n    startTime: performance.now(),\n    pageURL: getPageURL(),\n    referrer: document.referrer,\n    uuid: getUUID()\n  })\n}\n\nexport { pv }\n","import { lazyReportCache } from '../utils/report.js'\nimport { getPageURL, getUUID } from '../utils/index.js'\n\nfunction pageChange() {\n  // popstate\n  let from = ''\n  window.addEventListener(\n    'popstate',\n    () => {\n      console.log('hash 更新触发 popstate')\n      const to = getPageURL()\n\n      lazyReportCache({\n        from,\n        to,\n        type: 'behavior',\n        subType: 'popstate',\n        startTime: performance.now(),\n        uuid: getUUID()\n      })\n\n      from = to\n    },\n    true\n  )\n\n  // hashchange\n  let oldURL = ''\n  window.addEventListener(\n    'hashchange',\n    event => {\n      console.log('hash 改变触发 hashchange')\n      const newURL = event.newURL\n\n      lazyReportCache({\n        from: oldURL,\n        to: newURL,\n        type: 'behavior',\n        subType: 'hashchange',\n        startTime: performance.now()\n        // uuid: getUUID()\n      })\n\n      oldURL = newURL\n    },\n    true\n  )\n}\n\nexport { pageChange }\n","import { report } from '../utils/report.js'\nimport { onBeforeunload, getPageURL, getUUID } from '../utils/index.js'\n\nfunction pageAccessDuration() {\n  onBeforeunload(() => {\n    report(\n      {\n        type: 'behavior',\n        subType: 'page-access-duration',\n        startTime: performance.now(),\n        pageURL: getPageURL(),\n        uuid: getUUID()\n      },\n      true\n    )\n  })\n}\n\nexport { pageAccessDuration }\n","/**\n记录页面访问深度是很有用的，例如不同的活动页面 a 和 b。a 平均访问深度只有 50%，b 平均访问深度有 80%，说明 b 更受用户喜欢.根据这一点可以有针对性的修改 a 活动页面。\n除此之外还可以利用访问深度以及停留时长来鉴别电商刷单。例如:\n- 有人进来页面后一下就把页面拉到底部然后等待一段时间后购买，\n- 有人是慢慢的往下滚动页面，最后再购买。虽然他们在页面的停留时间一样，但明显第一个人更像是刷单的。\n\n步骤：\n1. 用户进入页面时，记录 当前时间、scrollTop 值、页面可视高度、页面总高度。\n2. 用户滚动页面的那一刻，会触发 scroll 事件\n  2.1 在回调函数中用第一点得到的数据算出页面访问深度和停留时长。\n  2.2 当用户滚动页面到某一点时，停下继续观看页面。这时记录当前时间、scrollTop 值、页面可视高度、页面总高度。\n */\nimport { getUUID, onBeforeunload, executeAfterLoad, getPageURL } from '../utils/index.js'\nimport { report, lazyReportCache } from '../utils/report.js'\n\nlet timer // 定时器\nlet hasReport = false // 是否上报，默认不上报\nlet startTime = 0 // 记录代码的执行开始时间\nlet scrollTop = 0 // 页面 scrollTop 值\nlet viewportHeight = 0 // 页面可视高度\nlet pageHeight = 0 // 页面总高度\n\nfunction toPercent(val) {\n  if (val >= 1) return '100%'\n  return (val * 100).toFixed(2) + '%'\n}\n\n// 滚动监听\nfunction onScroll() {\n  // 防抖\n  clearTimeout(timer)\n  const now = performance.now() // 记录代码的执行开始时间\n\n  // 2.2 在回调函数中用第一点得到的数据算出页面访问深度和停留时长\n  if (!hasReport) {\n    hasReport = true\n    lazyReportCache({\n      startTime: now, // 记录代码的执行开始时间\n      duration: now - startTime, // 停留时间\n      type: 'behavior', // 统计类型\n      subType: 'page- access-height', // 精确类型\n      pageURL: getPageURL(), // 当前页面\n      value: toPercent((scrollTop + viewportHeight) / pageHeight), // 百分比\n      uuid: getUUID()\n    })\n  }\n\n  // 2.2 当用户滚动页面到某一点时，停下继续观看页面。这时记录当前时间、scrollTop 值、页面可视高度、页面总高度。\n  timer = setTimeout(() => {\n    hasReport = false // 重置上报\n    startTime = now\n    pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight\n    scrollTop = document.documentElement.scrollTop || document.body.scrollTop\n    viewportHeight = window.innerHeight\n  }, 500)\n}\n\nfunction pageAccessHeight() {\n  // 1. 用户进入页面时，记录 当前时间、scrollTop 值、页面可视高度、页面总高度。\n  executeAfterLoad(() => {\n    startTime = performance.now() // 记录代码的执行开始时间\n    scrollTop = document.documentElement.scrollTop || document.body.scrollTop // 页面 scrollTop 值\n    viewportHeight = window.innerHeight // 页面可视高度\n    pageHeight = document.documentElement.scrollHeight || document.body.scrollHeight // 页面总高度\n  })\n\n  // 2 用户滚动页面的那一刻，会触发 scroll 事件\n  window.addEventListener('scroll', onScroll)\n\n  // 3. 页面关闭时上报\n  onBeforeunload(() => {\n    const now = performance.now()\n    report(\n      {\n        startTime: now,\n        duration: now - startTime,\n        type: 'behavior',\n        subType: 'page-access-height',\n        pageURL: getPageURL(),\n        value: toPercent((scrollTop + viewportHeight) / pageHeight),\n        uuid: getUUID()\n      },\n      true\n    )\n  })\n}\n\nexport { pageAccessHeight }\n","import { onClick } from './onClick.js'\nimport { pv } from './pv.js'\nimport { pageChange } from './pageChange.js'\nimport { pageAccessDuration } from './pageAccessDuration.js'\nimport { pageAccessHeight } from './pageAccessHeight.js'\n\nconst behavior = {\n  onClick: () => onClick(), // 用户点击\n  pv: () => pv(), // pv\n  pageChange: () => pageChange(), // 页面跳转\n  pageAccessDuration: () => pageAccessDuration(), // 页面停留时长\n  pageAccessHeight: () => pageAccessHeight() // 页面访问深度\n}\n\nexport { behavior }\n","// 检测 PerformanceObserver 方法\nfunction isSupportPerformanceObserver() {\n  return !!window.PerformanceObserver\n}\n\nexport { isSupportPerformanceObserver }\n","/*\n * FP(first-paint)，从页面加载开始到第一个像素绘制到屏幕上的时间。\n * 其实把 FP 理解成白屏时间也是没问题的。\n */\nimport { getPageURL } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction FPandFCP() {\n  // 检测 PerformanceObserver 方法\n  if (!isSupportPerformanceObserver()) return\n\n  // 测量代码\n  const entryHandler = list => {\n    for (const entry of list.getEntries()) {\n      if (entry.name === 'first-contentful-paint') {\n        observer.disconnect() // 监听连接\n      }\n\n      // 获取内容\n      const json = entry.toJSON()\n      delete json.duration // 删除无用 duration 属性\n\n      // 数据\n      const reportData = {\n        ...json,\n        subType: entry.name,\n        type: 'performance',\n        pageURL: getPageURL()\n      }\n\n      // 上报\n      lazyReportCache(reportData)\n    }\n  }\n\n  // 声明实例\n  const observer = new PerformanceObserver(entryHandler)\n  // buffered 属性表示是否观察缓存数据，也就是说观察代码添加时机比事情触发时机晚也没关系。\n  observer.observe({ type: 'paint', buffered: true })\n\n  // 浏览器往返缓存 BFC\n  // onBFCacheRestore()\n}\nexport { FPandFCP }\n","/*\nLCP(largest-contentful-paint)，从页面加载开始到最大文本块或图像元素在屏幕上完成渲染的时间。\nLCP 指标会根据页面首次开始加载的时间点来报告可视区域内可见的最大图像或文本块完成渲染的相对时间。\n一个良好的 LCP 分数应该控制在 2.5 秒以内。\n */\nimport { getPageURL } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction LCP() {\n  // 检测 PerformanceObserver 方法\n  if (!isSupportPerformanceObserver()) return\n\n  const entryHandler = list => {\n    if (observer) {\n      observer.disconnect()\n    }\n\n    for (const entry of list.getEntries()) {\n      // 获取内容\n      const json = entry.toJSON()\n      delete json.duration // 删除无用 duration 属性\n\n      const reportData = {\n        ...json,\n        target: entry.element?.tagName,\n        name: entry.entryType,\n        subType: entry.entryType,\n        type: 'performance',\n        pageURL: getPageURL()\n      }\n\n      lazyReportCache(reportData)\n    }\n  }\n\n  const observer = new PerformanceObserver(entryHandler)\n  observer.observe({ type: 'largest-contentful-paint', buffered: true })\n}\nexport { LCP }\n","/*\nCLS(layout-shift)，从页面加载开始和其生命周期状态变为隐藏期间发生的所有意外布局偏移的累积分数。\n\n布局偏移分数的计算方式如下：\n布局偏移分数 = 影响分数 * 距离分数\n\n取所有会话窗口中的最大值:这种方式是目前最优的计算方式，每次只取所有会话窗口的最大值，用来反映页面布局偏移的最差情况。\n */\n\nimport { getPageURL, deepClone } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction formatCLSEntry(entry) {\n  const result = entry.toJSON()\n  delete result.duration\n  delete result.sources\n\n  return result\n}\n\nfunction CLS() {\n  // 检测 PerformanceObserver 方法\n  if (!isSupportPerformanceObserver()) return\n\n  let sessionValue = 0\n  let sessionEntries = []\n\n  const cls = {\n    subType: 'layout-shift',\n    name: 'layout-shift',\n    type: 'performance',\n    pageURL: getPageURL(),\n    value: 0\n  }\n\n  const entryHandler = list => {\n    for (const entry of list.getEntries()) {\n      // 仅统计没有最近用户输入的布局移动。\n      if (!entry.hadRecentInput) {\n        const firstSessionEntry = sessionEntries[0]\n        const lastSessionEntry = sessionEntries[sessionEntries.length - 1]\n\n        //如果条目发生在前一条目之后不到1秒，并且\n        //会话中第一次输入后不到5秒，包括\n        //当前会话中的条目。否则，请启动新会话。\n        if (sessionValue && entry.startTime - lastSessionEntry.startTime < 1000 && entry.startTime - firstSessionEntry.startTime < 5000) {\n          sessionValue += entry.value\n          sessionEntries.push(formatCLSEntry(entry))\n        } else {\n          sessionValue = entry.value\n          sessionEntries = [formatCLSEntry(entry)]\n        }\n\n        //如果当前会话值大于当前CLS值，\n        //更新CLS及其相关条目。\n        if (sessionValue > cls.value) {\n          cls.value = sessionValue // value 字段就是布局偏移分数。\n          cls.entries = sessionEntries\n          cls.startTime = performance.now()\n          lazyReportCache(deepClone(cls))\n        }\n      }\n    }\n  }\n\n  const observer = new PerformanceObserver(entryHandler)\n  observer.observe({ type: 'layout-shift', buffered: true })\n}\n\nexport { CLS }\n","/*\n- 当纯 HTML 被完全加载以及解析时，DOMContentLoaded 事件会被触发，不用等待 css、img、iframe 加载完。\n- 当整个页面及所有依赖资源如样式表和图片都已完成加载时，将触发 load 事件。\n*/\n\nimport { lazyReportCache } from '../utils/report.js'\n\nconst events = ['load', 'DOMContentLoaded']\n\nfunction Load() {\n  events.forEach(type => onEvent(type))\n}\n\n// 监听 DOMContentLoaded / load 加载时间\nfunction onEvent(type) {\n  function callback() {\n    lazyReportCache({\n      type: 'performance',\n      subType: type.toLocaleLowerCase(),\n      startTime: performance.now()\n    })\n\n    window.removeEventListener(type, callback, true)\n  }\n\n  window.addEventListener(type, callback, true)\n}\n\nexport { Load }\n","/*\n如何判断 XML 请求是否成功？可以根据他的状态码是否在 200~299 之间。如果在，那就是成功，否则失败。\n*/\n\nimport { lazyReportCache } from '../utils/report.js'\n\nconst originalProto = XMLHttpRequest.prototype\nconst originalOpen = originalProto.open\nconst originalSend = originalProto.send\n\nfunction InterfaceXHR() {\n  originalProto.open = function newOpen(...args) {\n    this.url = args[1]\n    this.method = args[0]\n    originalOpen.apply(this, args)\n  }\n\n  originalProto.send = function newSend(...args) {\n    this.startTime = Date.now()\n\n    const onLoadend = () => {\n      this.endTime = Date.now()\n      this.duration = this.endTime - this.startTime\n\n      const { status, duration, startTime, endTime, url, method } = this\n      const reportData = {\n        status,\n        duration,\n        startTime,\n        endTime,\n        url,\n        method: (method || 'GET').toUpperCase(),\n        success: status >= 200 && status < 300,\n        subType: 'xhr',\n        type: 'performance'\n      }\n\n      lazyReportCache(reportData)\n\n      this.removeEventListener('loadend', onLoadend, true)\n    }\n\n    this.addEventListener('loadend', onLoadend, true)\n    originalSend.apply(this, args)\n  }\n}\n\nexport { InterfaceXHR }\n","/*\n对于 fetch，可以根据返回数据中的的 ok 字段判断请求是否成功，如果为 true 则请求成功，否则失败。\n*/\n\nimport { lazyReportCache } from '../utils/report.js'\n\nconst originalFetch = window.fetch\n\nfunction InterfaceFetch() {\n  window.fetch = function newFetch(url, config) {\n    const startTime = Date.now()\n    const reportData = {\n      startTime,\n      url,\n      method: (config?.method || 'GET').toUpperCase(),\n      subType: 'fetch',\n      type: 'performance'\n    }\n\n    return originalFetch(url, config)\n      .then(res => {\n        reportData.endTime = Date.now()\n        reportData.duration = reportData.endTime - reportData.startTime\n\n        const data = res.clone()\n        reportData.status = data.status\n        reportData.success = data.ok\n\n        lazyReportCache(reportData)\n\n        return res\n      })\n      .catch(err => {\n        reportData.endTime = Date.now()\n        reportData.duration = reportData.endTime - reportData.startTime\n        reportData.status = 0\n        reportData.success = false\n\n        lazyReportCache(reportData)\n\n        throw err\n      })\n  }\n}\n\nexport { InterfaceFetch }\n","/*\n对于 fetch，可以根据返回数据中的的 ok 字段判断请求是否成功，如果为 true 则请求成功，否则失败。\n*/\n\nimport { executeAfterLoad } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction ResourceLoadandCache() {\n  executeAfterLoad(() => {\n    observeEvent('resource')\n    observeEvent('navigation')\n  })\n}\n\nlet hasAlreadyCollected = false\nfunction observeEvent(entryType) {\n  function entryHandler(list) {\n    const data = list.getEntries ? list.getEntries() : list\n    for (const entry of data) {\n      if (entryType === 'navigation') {\n        if (hasAlreadyCollected) return\n\n        if (observer) {\n          observer.disconnect()\n        }\n\n        hasAlreadyCollected = true\n      }\n      // nextHopProtocol 属性为空，说明资源解析错误或者跨域\n      // beacon 用于上报数据，所以不统计。xhr fetch 单独统计\n      if ((!entry.nextHopProtocol && entryType !== 'navigation') || filter(entry.initiatorType)) {\n        return\n      }\n\n      lazyReportCache({\n        name: entry.name, // 资源名称\n        subType: entryType,\n        type: 'performance',\n        sourceType: entry.initiatorType, // 资源类型\n        duration: entry.duration, // 资源加载耗时\n        dns: entry.domainLookupEnd - entry.domainLookupStart, // DNS 耗时\n        tcp: entry.connectEnd - entry.connectStart, // 建立 tcp 连接耗时\n        redirect: entry.redirectEnd - entry.redirectStart, // 重定向耗时\n        ttfb: entry.responseStart, // 首字节时间\n        protocol: entry.nextHopProtocol, // 请求协议\n        responseBodySize: entry.encodedBodySize, // 响应内容大小\n        responseHeaderSize: entry.transferSize - entry.encodedBodySize, // 响应头部大小\n        resourceSize: entry.decodedBodySize, // 资源解压后的大小\n        isCache: isCache(entry), // 是否命中缓存\n        startTime: performance.now()\n      })\n    }\n  }\n\n  let observer\n  if (isSupportPerformanceObserver()) {\n    observer = new PerformanceObserver(entryHandler)\n    observer.observe({ type: entryType, buffered: true })\n  } else {\n    const data = window.performance.getEntriesByType(entryType)\n    entryHandler(data)\n  }\n}\n\n// 不统计以下类型的资源\nconst preventType = ['fetch', 'xmlhttprequest', 'beacon']\nconst isSafari = /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)\nif (isSafari) {\n  // safari 会把接口请求当成 other\n  preventType.push('other')\n}\n\nfunction filter(type) {\n  return preventType.includes(type)\n}\n\nfunction isCache(entry) {\n  // 直接从缓存读取或 304\n  return entry.transferSize === 0 || (entry.transferSize !== 0 && entry.encodedBodySize === 0)\n}\n\nexport { ResourceLoadandCache }\n","/*\nbfcache 是一种内存缓存，它会将整个页面保存在内存中。当用户返回时可以马上看到整个页面，而不用再次刷新。\n*/\nimport { onBFCacheRestore, getPageURL } from '../utils/index.js'\nimport { isSupportPerformanceObserver } from '../utils/observer.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction BFCache() {\n  if (!isSupportPerformanceObserver()) return\n\n  const entryHandler = list => {\n    for (const entry of list.getEntries()) {\n      if (entry.name === 'first-contentful-paint') {\n        observer.disconnect()\n      }\n\n      const json = entry.toJSON()\n      delete json.duration\n\n      const reportData = {\n        ...json,\n        subType: entry.name,\n        type: 'performance',\n        pageURL: getPageURL()\n      }\n\n      lazyReportCache(reportData)\n    }\n  }\n\n  const observer = new PerformanceObserver(entryHandler)\n  observer.observe({ type: 'paint', buffered: true })\n\n  onBFCacheRestore(event => {\n    requestAnimationFrame(() => {\n      ;['first-paint', 'first-contentful-paint'].forEach(type => {\n        lazyReportCache({\n          startTime: performance.now() - event.timeStamp,\n          name: type,\n          subType: type,\n          type: 'performance',\n          pageURL: getPageURL(),\n          bfc: true\n        })\n      })\n    })\n  })\n}\n\nexport { BFCache }\n","/*\n */\nimport { deepClone } from '../utils/index.js'\nimport { report } from '../utils/report.js'\n\nconst next = window.requestAnimationFrame\n  ? requestAnimationFrame\n  : callback => {\n      setTimeout(callback, 1000 / 60)\n    }\n\nconst frames = []\n\nfunction FPS() {\n  let frame = 0\n  let lastSecond = Date.now()\n\n  function calculateFPS() {\n    frame++\n    const now = Date.now()\n    if (lastSecond + 1000 <= now) {\n      // 由于 now - lastSecond 的单位是毫秒，所以 frame 要 * 1000\n      const fps = Math.round((frame * 1000) / (now - lastSecond))\n      frames.push(fps)\n\n      frame = 0\n      lastSecond = now\n    }\n\n    // 避免上报太快，缓存一定数量再上报\n    if (frames.length >= 10) {\n      // 正常为60，10便于测试\n      report(\n        deepClone({\n          frames,\n          type: 'performace',\n          subType: 'fps'\n        })\n      )\n\n      frames.length = 0\n    }\n    next(calculateFPS)\n  }\n\n  calculateFPS()\n}\n\nfunction isBlocking(fpsList, below = 20, last = 3) {\n  let count = 0\n  for (let i = 0; i < fpsList.length; i++) {\n    if (fpsList[i] && fpsList[i] < below) {\n      count++\n    } else {\n      count = 0\n    }\n\n    if (count >= last) {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport { FPS }\n","import { FPandFCP } from './FPandFCP.js'\nimport { LCP } from './LCP.js'\nimport { CLS } from './CLS.js'\nimport { Load } from './Load.js'\nimport { InterfaceXHR } from './InterfaceXHR.js'\nimport { InterfaceFetch } from './InterfaceFetch.js'\nimport { ResourceLoadandCache } from './ResourceLoadandCache.js'\nimport { BFCache } from './BFCache.js'\nimport { FPS } from './FPS.js'\n\nconst performance = {\n  FPandFCP: () => FPandFCP(), // FPandFCP\n  LCP: () => LCP(), // LCP\n  CLS: () => CLS(), // CLS\n  Load: () => Load(), // Load 事件\n  FirstScreenPaint: () => FirstScreenPaint(), // 首屏渲染时间\n  InterfaceXHR: () => InterfaceXHR(), // 接口请求耗时XHR\n  InterfaceFetch: () => InterfaceFetch(), // 接口请求耗时Fetch\n  ResourceLoadandCache: () => ResourceLoadandCache(), // 资源加载时间、缓存命中率\n  BFCache: () => BFCache(), // 浏览器往返缓存\n  FPS: () => FPS() // 计算卡顿\n}\n\nexport { performance }\n","/*\n控制台报错\n*/\nimport { getPageURL } from '../utils/index.js'\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction ConsoleError() {\n  const oldConsoleError = window.console.error\n\n  window.console.error = (...args) => {\n    oldConsoleError.apply(this, args)\n    lazyReportCache({\n      type: 'error',\n      subType: 'console-error',\n      startTime: performance.now(),\n      errData: args,\n      pageURL: getPageURL()\n    })\n  }\n}\n\nexport { ConsoleError }\n","/*\n使用 addEventListener() 监听 error 事件，可以捕获到资源加载失败错误。\n*/\nimport { lazyReportCache } from '../utils/report.js'\nimport { getPageURL } from '../utils/index.js'\n\nfunction ResourceError() {\n  // 捕获资源加载失败错误 js css img...\n  window.addEventListener(\n    'error',\n    e => {\n      const target = e.target\n      if (!target) return\n\n      if (target.src || target.href) {\n        const url = target.src || target.href\n        lazyReportCache({\n          url,\n          type: 'error',\n          subType: 'resource',\n          startTime: e.timeStamp,\n          html: target.outerHTML,\n          resourceType: target.tagName,\n          paths: e.path.map(item => item.tagName).filter(Boolean),\n          pageURL: getPageURL()\n        })\n      }\n    },\n    true\n  )\n}\n\nexport { ResourceError }\n","/*\n使用 window.onerror 可以监听 js 错误。\n*/\nimport { lazyReportCache } from '../utils/report.js'\n\nfunction JsError() {\n  // 监听 js 错误\n  window.onerror = (msg, url, line, column, error) => {\n    lazyReportCache({\n      msg,\n      line,\n      column,\n      error: error.stack,\n      subType: 'js',\n      pageURL: url,\n      type: 'error',\n      startTime: performance.now()\n    })\n  }\n}\n\nexport { JsError }\n","/*\n使用 addEventListener() 监听 unhandledrejection 事件，可以捕获到未处理的 promise 错误。\n*/\nimport { lazyReportCache } from '../utils/report.js'\nimport { getPageURL } from '../utils/index.js'\n\nfunction PromiseError() {\n  // 监听 promise 错误 缺点是获取不到列数据\n  window.addEventListener('unhandledrejection', e => {\n    lazyReportCache({\n      reason: e.reason?.stack,\n      subType: 'promise',\n      type: 'error',\n      startTime: e.timeStamp,\n      pageURL: getPageURL()\n    })\n  })\n}\n\nexport { PromiseError }\n","import { ConsoleError } from './ConsoleError.js'\nimport { ResourceError } from './ResourceError.js'\nimport { JsError } from './JsError.js'\nimport { PromiseError } from './PromiseError.js'\n\nconst error = {\n  ConsoleError: () => ConsoleError(), // 控制台报错\n  ResourceError: () => ResourceError(), // 资源加载错误\n  JsError: () => JsError(), // JS 错误\n  PromiseError: () => PromiseError() // PromiseError 错误\n}\n\nexport { error }\n","import { setConfig } from './config.js'\n// 行为监控\nimport { behavior } from './behavior/index.js'\n// 性能监听\nimport { performance } from './performance/index.js'\n// 错误监听\nimport { error } from './error/index.js'\n\nconst monitor = {\n  init(option = {}) {\n    setConfig(option)\n  },\n  // 行为监听\n  behavior,\n  // 性能监听\n  performance,\n  // 错误监听\n  error\n}\n\n// 挂载全局\nwindow.monitor = monitor\nexport default monitor\n"],"names":["config","url","appID","userID","vue","Vue","router","setConfig","options","key","generateUniqueID","Date","now","Math","floor","random","uuid","getUUID","window","localStorage","getItem","setItem","onBeforeunload","callback","addEventListener","getPageURL","location","href","deepClone","target","Object","assign","executeAfterLoad","document","readyState","onLoad","removeEventListener","onload","onBFCacheRestore","event","persisted","cache","addCache","push","getCache","clearCache","length","isSupportSendBeacon","navigator","sendBeacon","bind","reportWithXHR","data","xhr","XMLHttpRequest","originalProto","prototype","open","call","send","JSON","stringify","sessionID","report","isImmediate","console","error","reportData","id","requestIdleCallback","timeout","setTimeout","timer","lazyReportCache","clearTimeout","events","onClick","forEach","eventType","type","subType","tagName","pv","startTime","performance","pageURL","referrer","pageChange","from","log","to","oldURL","newURL","pageAccessDuration","hasReport","scrollTop","viewportHeight","pageHeight","toPercent","val","toFixed","onScroll","duration","value","documentElement","scrollHeight","body","innerHeight","pageAccessHeight","behavior","isSupportPerformanceObserver","PerformanceObserver","FPandFCP","entryHandler","list","getEntries","entry","name","observer","disconnect","json","toJSON","observe","buffered","LCP","element","entryType","formatCLSEntry","result","sources","CLS","sessionValue","sessionEntries","cls","hadRecentInput","firstSessionEntry","lastSessionEntry","entries","Load","onEvent","toLocaleLowerCase","originalOpen","originalSend","InterfaceXHR","newOpen","args","method","apply","newSend","onLoadend","endTime","status","toUpperCase","success","originalFetch","fetch","InterfaceFetch","newFetch","then","res","clone","ok","catch","err","ResourceLoadandCache","observeEvent","hasAlreadyCollected","nextHopProtocol","filter","initiatorType","sourceType","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttfb","responseStart","protocol","responseBodySize","encodedBodySize","responseHeaderSize","transferSize","resourceSize","decodedBodySize","isCache","getEntriesByType","preventType","isSafari","test","userAgent","includes","BFCache","requestAnimationFrame","timeStamp","bfc","next","frames","FPS","frame","lastSecond","calculateFPS","fps","round","FirstScreenPaint","ConsoleError","oldConsoleError","errData","ResourceError","e","src","html","outerHTML","resourceType","paths","path","map","item","Boolean","JsError","onerror","msg","line","column","stack","PromiseError","reason","monitor","init","option"],"mappings":"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"}